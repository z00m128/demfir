Pøeklad DEMFIRu:

Pokud jste si stáhli nìjaké oficiální vydání, mù¾ete rovnou pokraèovat èástí
"Pøelo¾ený DEMFIR lze nainstalovat...", v¹echny soubory máte vytvoøené.

Potøebný SW
- Linux nebo Unix, pøípadnì by mohlo staèit unixové prostøedí (napø. MinGW)
- Systémové programy cat, grep, tr, make, bash kompatibilí shell
- mkisofs (balík cdrtools [http://www.fokus.gmd.de/research/cc/glone/employees/joerg.schilling/private/mkisofs.html])
- Macroassembler AS [http://john.ccac.rwth-aachen.de:8000/as/] (minimálnì ve
  verzi 1.42, verzí 1.41rX _NENÍ_ mo¾né DEMFIR pøelo¾it)
- Utilitku bin2tap [http://zeroteam.sk/bin2tap.html]

Zkontrolovat nastavení v config.a80 a povolit preferované vlastnosti.
V adresáøi demfir zadat 'make' a pøeklad by mìl probìhnout automaticky.
Smazání v¹ech vygenerovaných souborù se provede pomocí 'make clean'.



Pøelo¾ený DEMFIR lze nainstalovat tøemi základními zpùsoby:

1) Pou¾ít ROM image (demfirXXXX_E.bin) a ten pomocí Zilogova permutoru vypálit
   do EPROM, pøípadnì nìjakým univerzálním instalátorem nahrát do FLASH ROM.

2) Pou¾ít tapku (demfirXXXX.tap), která obsahuje Zilogùv instalátor a naèíst ji
   z magnetofonu. To automaticky nainstaluje DEMFIR.

3) Pou¾í ISO image (demfirXXXX.iso), ten vypálit na RW nebo nahrát na CF,
   ZIPdrive èi HDD, toto médium naèíst v DEMFIRu, vybrat tapku a spustit ji
   (LOAD ""). Tento postup vy¾aduje funkèní DEMFIR, tak¾e se hodí jen na
   upgrade).


Od verze 0.6 sídlí DEMFIR ve dvou stránkách (u¾ se do jedné neve¹el). To sebou
pøiná¹í dvì "nepøíjemnosti":

1) Nelze provozovat z MAPRAM a _MUSÍ_ být umístìn do EEPROM. Zároveò _NESMÍ_
   být MAPRAM aktivní pøed nabootováním druhé èasti. Jeliko¾ pou¾itý Zilogùv
   flasher nahazuje MAPRAM v¾dy (i kdy¾ se flashuje EEPROM), je tøeba po
   naflashování vypnout a zapnout ZXS (jediný zpùsob jak se zbavit aktivovaného
   MAPRAM).

2) Po ka¾dém zapnutí ZXS je tøeba "nabootovat" druhou èást a dokud se tak
   nestane, nejde pou¾ívat tape emulátor, cd browser a jeho souèásti (spou¹tìní
   snapù). Bootování probíhá z prvního naèteného ISO image, který obsahuje
   druhou èást jako "generic boot image" (tj. demfirXXXX_R.bin umístìný od
   poèátku ISO image) nebo demfirboot.img pou¾itý v El Torito (standardní
   bootovatelné CD). Dodávaný nebo vygenerovaný (pøes make) ISO image
   (demfirXXXX.iso) je vytvoøen jako bootovací a je tedy mo¾né ho pro tuto
   èinnost pou¾ít. Dokud není nabootováno, verze DEMFIRu v NMI menu je vypsána
   èervenì, po nabootování zelenì. Je také kontrolována verze obou èástí a pokud
   nesedí, boot není úspì¹ný. Na to pozor pøi "upgrade" DEMFIRu DEMFIRem (zpùsob
   3). Je tøeba mít rùzná média, zaøízení nebo dva image za sebou (první s
   nainstalovanou verzí z kterého se nabootuje a druhý z kterého se provede
   upgrade).


Stiskem NMI proveïte detekci zaøízení, nechte vyhledat bootovací image (pokud
není od zaèátku média) a mù¾ete zaèít pracovat.



Jak vytvoøit vlastní bootovatelná CD:

1) V K3b, Nero nebo podobném "u¾ivatelsky pøítulném" programu pou¾ijte
   soubor demfirboot.img jako disketový obraz pøi tvorbì standardního
   bootovatelného CD (soubor demfirboot.img je vygenerován pøi 'make eltorito'
   nebo 'make demfirboot.img', oficiální vydání by ho mìlo obsahovat).

2) Pøi pou¾ití mkisofs jsou dvì mo¾nosti
   a) "generic boot image" - rychlej¹í a ménì prostorovì nároèná varianta:
      mkisofs -U -V "JMENO_CD" -G demfirXXXX_R.bin -o image.iso SOUBORY_NA_CD
   b) El Torito jako ve variantì 1:
      mkisofs -U -V "JMENO_CD" -b demfirboot.img -hide demfirboot.img -hide boot.catalog -o image.iso demfirboot.img SOUBORY_NA_CD
   Význam jednotlivých voleb si najdìte v popisu mkisofs, je to tam pìknì
   popsané :).
