DEMFIR build:

If you downloaded some "stable" release, you can skip to "Builded DEMFIR can be
installed..." - all files are created.

Needed SW
- Linux or Unix, maybe some unix-like enviroment (MinGW etc.)
- System progs cat, awk, grep, tr, make, bash compatible shell
- mkisofs (package cdrtools [http://www.fokus.gmd.de/research/cc/glone/employees/joerg.schilling/private/mkisofs.html])
- Macroassembler AS [http://john.ccac.rwth-aachen.de:8000/as/] (version 1.42 at
  least, DEMFIR _CANNOT_ be build with version 1.41rX
- Small utility bin2tap [http://speccy.trilogic.cz/utils/bin2tap.c.bz2] (compile
  it this way: gcc -Wall bin2tap.c -o bin2tap)

In demfir directory type 'make' and build should be done automatically. Output
should be similar to:

asl demfir.a80 -o demfird04b.p -L
macro assembler 1.42 Beta [Bld 31]
(i386-unknown-linux)
(C) 1992,2004 Alfred Arnold
Mitsubishi M16C-Generator also (C) 1999 RMS
XILINX KCPSM(Picoblaze)-Generator (C) 2003 Andreas Wassatsch
TMS320C2x-Generator (C) 1994/96 Thomas Sailer
TMS320C5x-Generator (C) 1995/96 Thomas Sailer
assembling demfir.a80
PASS 1
demfir.a80(4604)
PASS 2
demfir.a80(4604)
0.21 seconds assembly time
   4604 lines source file
      2 passes
      0 errors
      0 warnings
p2bin demfird04b.p -l 0 -r \$-\$
P2BIN/C V1.42 Beta [Bld 31]
(C) 1992,2004 Alfred Arnold
demfird04b.p==>>demfird04b.bin  (6989 Bytes)
bin2tap demfird04b.bin demfird04b.pat 24576
cat basic.tpi demfird04b.pat > demfird04b.tap
mkisofs -U -V "DEMFIR d04b INSTALL" -o demfird04b.iso demfird04b.tap
Warning: creating filesystem that does not conform to ISO-9660.
Total translation table size: 0
Total rockridge attributes bytes: 0
Total directory bytes: 0
Path table size(bytes): 10
Max brk space used 21000
179 extents written (0 MB)

All generated files can be deleted with "make clean".



Builded DEMFIR can be install in three ways:

1) Use ROM image (demfirXXXX.bin) and burn it with Zilog's permutor to EPROM or
   use some universal ROM installer and install it to FLASH ROM or MAPRAM of
   divIDE.

2) Use .tap file (demfirXXXX.tap), which contains Zilog's universal installer
   and load it from tape. It automatically installs DEMFIR.

3) Use ISO image (demfirXXXX.iso), burn it to RW or store it to CF, ZIPdrive or
   HDD. Insert this medium into DEMFIR, select .tap file (stored on ISO
   filesystem) and run it (LOAD ""). This way need working DEMFIR so can be used
   only for upgrade.

Press NMI. It detects IDE devices. Enjoy :)
