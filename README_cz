DTP's EMulator FIles Runner
===========================

Verze pro divIDE


Fièury:
- V¹e se odhrává v NMI menu.
- Vlastní detekce IDE zaøízení.
- Práce s iso9660 (CD-ROM image) pøímo z CD-ROM mechaniky, pøípadnì nahraný
  na ZIP drive, HDD nebo CompactFlash. Pokud image není nahrán od zaèátku média,
  není automaticky detekován a musí být pou¾ita funkce "hledání".
- Funkce automatického hledání ISO image. Zaèátek image je automaticky nalezen
  postupným naèítáním média, ale ka¾dá sranda nìco stojí, tak ho nenahrávejte
  moc "daleko", jinak se vá¾nì naèekáte.
- Mo¾nost procházet celý strom adresáøù a souborù (integrovaný browser).
- V¹e se pamatuje (naètený adresáø, pozice v nìm, data o TAPce atd.).
- Detekce tupu souborù; obrázky podle délky, emulátorové soubory podle pøípony.
- Prohlí¾ení barevných (6912 B) a èernobílých (6144 B) obrázkù s detekcí barvy
  borderu.
- Spou¹tìní snapù SNA (48K i 128K)
- Spou¹tìní snapù Z80 (verze 1.x, 2.x a 3.x) se zobrazením verze a typu.
- Spou¹tìní snapù MFC (48K i 128K).
- Tape emulátor pro TAP soubory (read only = save není podporováno). Pøi
  zvolení TAPky v browseru je zobrazen obsah jako "virtuální" adresáø a je
  mo¾no nastavit load kurzor. Pokud program ète data pomocí ROM, jsou pøi
  vybrané TAPce ètena z IDE zaøízení, pokud ¾ádná TAPka vybraná není, ète se
  pøímo z MGF (pomocí standardních rutin ROM).
- Modulární struktura - nìkteré èásti je pøi kompilaci mo¾no vypnout a udìlat
  si tak místo pro nìjaké jiné :)

Ovládání NMI menu (klávesy jsou zvýraznìny):
D = device  - zmìna zaøízení (master/slave).
M = medium  - znovunaètení média a nové hledání image.
R = reset   - softwarový reset (JP 0), spoleènì se 'SYMBOL SHIFT' vyma¾e i RAM
              DEMFIRu.
I = init    - nová detekce zaøízení, spoleènì se 'SYMBOL SHIFT' pro LBA i CHS
              disky ignoruje zji¹tìnou velikost zaøízení a nastaví max. hodnoty
              (128 GB pro LBA a cca 8 GB pro CHS). Pro CHS disky navíc vezme
              výchozí geometrii místo aktuální (mù¾e pomoci s nìkterými starými
              nebo nestandardními disky).
              Pokud je pøelo¾eno s WITH_WDC a disk vykazuje neplatnou aktuální
              geometrii (nìkteré Western Digital), disku je nastavena výchozí
              geometrie a místo jména zaøízení se objeví "CHS translation:" a
              tøi èísla oddìlené lomítky znaèící nastavenou geometrii. Poté JE
              NUTNO provést detekci ZNOVU. V pøípadì, ¾e dal¹í detekce dopadne
              stejnì (opìt "CHS translation:" atd.), vá¹ disk není ochoten si
              novou geometrii zapamatovat a pak je tøeba provést detekci
              spoleènì se sti¹tìným 'SYMBOL SHIFT'. To zamezí nastavování
              geometrie a disk bude pou¾it tak jak je.
Q = quit    - opu¹tìní NMI menu, pøepne na zvolenou VRAM (viz. klávesa 'V')
F = find    - nalezení ISO image kdekoli na médiu (nelze spustit na reálné
              CD-ROM). Hledání pokraèeje od aktuální pozice + velikost
              souèasného iso image (pokud je nìjaký nalezen) + offset Primary
              Volume Descriptoru (16 dvoukilových sektorù). Pokud chcete hledat
              od aktuální pozice, stisnìte klávesu 'F' spoleènì s 'SYMBOL SHIFT'
              Hledání lze pøeru¹it stiskem 'SPACE'.
S = sector  - umo¾òuje zadat èíslo sektoru, odkud se bude èíst ISO image,
              pøípadnì od toho sektoru hledat. Reagují klávesy 0-9 a A-F pro
              èíslice hexa èísla, 'SPACE' pro posun na dal¹í znak, 'SYMBOL
              SHIFT' pro posun na pøedcházející znak. Èíslice se zadávají
              zprava do leva a zále¾í na pozici cifer. Po dosa¾ení sedmé cifry
              se kurzor pøesune na zaèátek (1. cifra) - nefuguje obrácenì (pøi
              posunu pomocí 'SYMBOL SHIFT'). 'ENTER' vstup ukonèí a DEMFIR
              zadaný sektor pou¾ije jako ofset pro naètení ISO image (pokud se
              objeví 'No ISO image found', zkuste hledání.
E = eject   - vysunutí média (pouze pro ATAPI tj. CDROM a ZIPdrive)
V = VRAM    - zobrazí aktuální Video RAM (po stisku NMI je to v¾dy 1.),
              opakovaným stiskem klávesy 'V' lze pøepínat mezi 1. a 2. VRAM.
              Pokud bìhem zobrazování není 'V' sti¹tìno do dvou vteøin od
              poslední zmìny, aktuálnì zobrazená VRAM je nastavena pro Quit a
              DEMFIR se vrátí do NMI menu. Ve 48K re¾imu pouze zobrazí 1. VRAM,
              pøepínání není mo¾né.
Enter       - vstup do browseru

Ovládání browseru:
¹ipka nahoru - posun na pøede¹lý soubor
¹ipka dolù   - posun na dal¹í soubor
¹ipka vlevo  - skok na zaèátek stránky, pokud je ji¾ kurzor na první polo¾ce,
               skok na pøede¹lou stránku
¹ipka vpravo - skok na konec stránky, pokud je ji¾ kurzor na poslední polo¾ce,
               skok na následující stránku
Enter        - akce = zobrazení obrázku (èeká na klávesu), spu¹tìní snapu,
               procházení TAPky èi adresáøe nebo nastavení load kurzoru (zále¾í
               na okolnostech)
Space        - ukonèení browseru


Pøi práci v TAPce je kurzor buï zelený (v¹e ok), èervený (TAPka obsahuje
nìjakou chybu) nebo ¾lutý (TAPka je OK, ale obsahuje moc souborù a nebyl
poøízen jejich seznam => není mo¾né s nimi pracovat).

Pokud pøi LOADu z TAPky dojede kurzor na její konec, je TAPka automaticky
"pøevinuta" na zaèátek. Pozici load kurzoru lze kdykoliv zjistit/zmìnit pøes
browser.

V NMI menu je v úplnì prvním øádku zobrazeno (zleva doprava):
- stav pøeru¹ení (IM1/IM2, EI/DI)
- aktuální re¾im (48K/128K)
- aktivní 128K stránka
- zvolená VRAM (nelze detekovat)

V druhém øádku je seznam podporovaných formátù
- Z80 = snapy Z80 v¹ech verzí, povoluje WITH_Z80 v config.a80 
- SNA = snapy SNA, povoluje WITH_SNA v config.a80
- MFC = snapy MFC, povoluje WITH_MFC v config.a80
- SCR = prohlí¾eè obrázkù, povoluje WITH_SCR v config.a80

Ve tøetím øádku jsou ostatní moduly a nastavení
- CHS = podpora pro HDD bez LBA, povoluje WITH_CHS v config.a80
- WDC = automatické nastavování geometrie pøi detekci zaøízení, vy¾adují
        nìkteré disky Western Caviar, povoluje WITH_WDC v config.a80
- LoT = Long Timeout, prodlou¾ený timeout pøi práci se zaøízením, nutné pro
        nìkteré CDROM a HDD, pro CF mo¾no vypnout, povoluje TOUT_LONG v
        config.a80
- SSv = spoøiè obrazovky (po dvou minutách zèerná obrazovka), povoluje WITH_SS
        v config.a80

Logo lze zmìnit pomocí LOGO_TNT (pùvodní) nebo LOGO_F6 (nové a hezèí :), pokud
nebude povoleno ani jedno, je logo nahrazeno textovým øádkem.


    Tritol

